{"version":3,"sources":["app/main/main.controller.js"],"names":["MainController","$http","$scope","socket","cinemas","display","get","then","response","data","console","log","i","length","title","movie","duplicate","j","push","sessionStorage","setItem","JSON","stringify","location","href","angular","module","component","templateUrl","controller","controllerAs"],"mappings":"AAAA;;;;;;AAEA,CAAC,YAAY;AAAA,MAELA,cAFK;AAIT,4BAAYC,KAAZ,EAAmBC,MAAnB,EAA2BC,MAA3B,EAAmC;AAAA;;AACjC,WAAKF,KAAL,GAAaA,KAAb;AACA,WAAKE,MAAL,GAAcA,MAAd;AACA,WAAKC,OAAL,GAAe,EAAf;AACA,WAAKC,OAAL,GAAe,EAAf;AAED;;AAVQ;AAAA;AAAA,gCAYC;AAAA;;AAER,aAAKJ,KAAL,CAAWK,GAAX,CAAe,cAAf,EAA+BC,IAA/B,CAAoC,UAACC,QAAD,EAAc;AAChD,gBAAKJ,OAAL,GAAeI,SAASC,IAAxB;AACAC,kBAAQC,GAAR,CAAY,MAAKP,OAAjB;;AAEA,cAAIC,UAAS,EAAb;AACA,eAAI,IAAIO,IAAE,CAAV,EAAaA,IAAE,MAAKR,OAAL,CAAaS,MAA5B,EAAoCD,GAApC,EAAwC;AACtC,gBAAIE,QAAQ,MAAKV,OAAL,CAAaQ,CAAb,EAAgBG,KAAhB,CAAsBD,KAAlC;AACA,gBAAIE,YAAY,KAAhB;AACA,gBAAGJ,IAAI,CAAP,EAAS;AACP,mBAAI,IAAIK,IAAEL,IAAE,CAAZ,EAAeK,KAAG,CAAlB,EAAqBA,GAArB,EAAyB;AACvB,oBAAGH,UAAU,MAAKV,OAAL,CAAaa,CAAb,EAAgBF,KAAhB,CAAsBD,KAAnC,EAAyC;AACvCE,8BAAY,IAAZ;AACD;AACF;AACF;AACD,gBAAG,CAACA,SAAJ,EAAc;AACZX,sBAAQa,IAAR,CAAa,MAAKd,OAAL,CAAaQ,CAAb,CAAb;AACD;AACF;;AAED,gBAAKP,OAAL,GAAeA,OAAf;AACAK,kBAAQC,GAAR,CAAY,MAAKN,OAAjB;AACD,SAtBD;AAuBD;AArCQ;AAAA;AAAA,2BAuCJU,KAvCI,EAwCT;AACEL,gBAAQC,GAAR,CAAYI,KAAZ;AACAI,uBAAeC,OAAf,CAAuB,OAAvB,EAA+BC,KAAKC,SAAL,CAAeP,KAAf,CAA/B;AACAQ,iBAASC,IAAT,GAAc,cAAd;AAED;AA7CQ;;AAAA;AAAA;;AAmDXC,UAAQC,MAAR,CAAe,cAAf,EACGC,SADH,CACa,MADb,EACqB;AACjBC,iBAAa,oBADI;AAEjBC,gBAAY7B,cAFK;AAGjB8B,kBAAc;AAHG,GADrB;AAMD,CAzDD","file":"main.controller.js","sourcesContent":["'use strict';\n\n(function () {\n\n  class MainController {\n\n    constructor($http, $scope, socket) {\n      this.$http = $http;\n      this.socket = socket;\n      this.cinemas = [];\n      this.display = [];\n\n    }\n\n    $onInit() {\n\n      this.$http.get('/api/cinemas').then((response) => {\n        this.cinemas = response.data;\n        console.log(this.cinemas);\n\n        let display =[];\n        for(let i=0; i<this.cinemas.length; i++){\n          let title = this.cinemas[i].movie.title;\n          let duplicate = false;          \n          if(i > 0){\n            for(let j=i-1; j>=0; j--){\n              if(title === this.cinemas[j].movie.title){\n                duplicate = true;\n              }\n            }\n          }\n          if(!duplicate){\n            display.push(this.cinemas[i]);\n          }\n        }\n\n        this.display = display;\n        console.log(this.display);\n      });\n    }\n\n    book(movie)\n    {\n      console.log(movie);\n      sessionStorage.setItem(\"movie\",JSON.stringify(movie));\n      location.href=\"/bookingpage\";\n\n    }\n\n\n\n  }\n\n  angular.module('yeomanAppApp')\n    .component('main', {\n      templateUrl: 'app/main/main.html',\n      controller: MainController,\n      controllerAs: 'mainCtrl'\n    });\n})();\n"]}