{"version":3,"sources":["app/addtheater/addtheater.controller.js"],"names":["AddtheaterComponent","$http","socket","message","theater","console","log","showTheater","get","then","response","TheaterList","data","syncUpdates","name","location","city","post","Name","Location","City","alert","id","confirm","delete","angular","module","component","templateUrl","controller","controllerAs"],"mappings":"AAAA;;;;;;AAEA,CAAC,YAAU;AAAA,MAELA,mBAFK;AAGT,iCAAYC,KAAZ,EAAmBC,MAAnB,EAA2B;AAAA;;AACzB,WAAKC,OAAL,GAAe,OAAf;AACA,WAAKF,KAAL,GAAaA,KAAb;AACA,WAAKC,MAAL,GAAcA,MAAd;AACA,WAAKE,OAAL,GAAe,EAAf;AACD;;AARQ;AAAA;AAAA,gCAUC;AACRC,gBAAQC,GAAR,CAAY,OAAZ;AACA,aAAKC,WAAL;;AAEA;AACA;AACA;AACA;AACA;AACD;AAnBQ;AAAA;AAAA,oCAsBI;AAAA;;AACXF,gBAAQC,GAAR,CAAY,YAAZ;AACA,aAAKL,KAAL,CAAWO,GAAX,CAAe,eAAf,EAAgCC,IAAhC,CAAqC,UAACC,QAAD,EAAc;AACjD,gBAAKC,WAAL,GAAmBD,SAASE,IAA5B;AACAP,kBAAQC,GAAR,CAAY,MAAKK,WAAjB;AACA,gBAAKT,MAAL,CAAYW,WAAZ,CAAwB,SAAxB,EAAmC,MAAKF,WAAxC;AACD,SAJD;AAKD;AA7BQ;AAAA;AAAA,mCA+BI;AACX,YAAI,KAAKP,OAAL,CAAaU,IAAb,IAAqB,KAAKV,OAAL,CAAaW,QAAlC,IAA8C,KAAKX,OAAL,CAAaY,IAA/D,EAAqE;AACnE,eAAKf,KAAL,CAAWgB,IAAX,CAAgB,eAAhB,EAAiC;AAC/BC,kBAAM,KAAKd,OAAL,CAAaU,IADY;AAE/BK,sBAAU,KAAKf,OAAL,CAAaW,QAFQ;AAG/BK,kBAAM,KAAKhB,OAAL,CAAaY;AAHY,WAAjC,EAKCP,IALD,CAKM,UAACC,QAAD,EAAc;AAClBW,kBAAM,4BAAN;AACD,WAPD;AAQA,eAAKjB,OAAL,GAAe,EAAf;AACD,SAVD,MAUK;AACHiB,gBAAM,eAAN;AACD;AACF;AA7CQ;AAAA;AAAA,oCA+CKC,EA/CL,EA+CQ;AACf,YAAGC,QAAQ,kDAAR,CAAH,EAA+D;AAC7D,eAAKtB,KAAL,CAAWuB,MAAX,CAAkB,mBAAiBF,EAAnC,EAAuCb,IAAvC,CAA4C,UAACC,QAAD,EAAc;AACxDW,kBAAM,+BAAN;AACD,WAFD;AAGD,SAJD,MAIK;AACHA,gBAAM,gBAAN;AACD;AACF;AAvDQ;;AAAA;AAAA;;AA0DXI,UAAQC,MAAR,CAAe,cAAf,EACGC,SADH,CACa,YADb,EAC2B;AACvBC,iBAAa,gCADU;AAEvBC,gBAAY7B,mBAFW;AAGvB8B,kBAAc;AAHS,GAD3B;AAOC,CAjED","file":"addtheater.controller.js","sourcesContent":["'use strict';\n\n(function(){\n\nclass AddtheaterComponent {\n  constructor($http, socket) {\n    this.message = 'Hello';\n    this.$http = $http;\n    this.socket = socket; \n    this.theater = {};\n  }\n\n  $onInit() {\n    console.log(\"hello\");\n    this.showTheater();\n    \n    // this.$http.get('/api/things')\n    //   .then(response => {\n    //     this.awesomeThings = response.data;\n    //     this.socket.syncUpdates('thing', this.awesomeThings);\n    //   });\n  }\n\n\n  showTheater(){\n    console.log('api called');\n    this.$http.get('/api/theaters').then((response) => {\n      this.TheaterList = response.data;\n      console.log(this.TheaterList);\n      this.socket.syncUpdates('theater', this.TheaterList);\n    });\n  }\n\n  addTheater() {\n    if (this.theater.name && this.theater.location && this.theater.city) {\n      this.$http.post('/api/theaters', {\n        Name: this.theater.name,\n        Location: this.theater.location,\n        City: this.theater.city\n      })\n      .then((response) => {\n        alert('Theater added successfully');\n      });\n      this.theater = '';\n    }else{\n      alert('Fields empty.');\n    }\n  }\n\n  deleteTheater(id){\n    if(confirm(\"Click OK to confirm deletion or Cancel to abort.\")){\n      this.$http.delete('/api/theaters/'+id).then((response) => {\n        alert('Theater Deleted Successfully!');\n      });\n    }else{\n      alert('Action aborted');\n    }\n  }\n}\n\nangular.module('yeomanAppApp')\n  .component('addtheater', {\n    templateUrl: 'app/addtheater/addtheater.html',\n    controller: AddtheaterComponent,\n    controllerAs: 'addtheaterCtrl'\n  });\n\n})();\n"]}