{"version":3,"sources":["app/addtheater/addtheater.controller.js"],"names":["AddtheaterComponent","$http","socket","message","console","log","showTheater","get","then","response","TheaterList","data","syncUpdates","theater","name","location","city","post","Name","Location","City","alert","id","confirm","delete","angular","module","component","templateUrl","controller","controllerAs"],"mappings":"AAAA;;;;;;AAEA,CAAC,YAAU;AAAA,MAELA,mBAFK;AAGT,iCAAYC,KAAZ,EAAmBC,MAAnB,EAA2B;AAAA;;AACzB,WAAKC,OAAL,GAAe,OAAf;AACA,WAAKF,KAAL,GAAaA,KAAb;AACA,WAAKC,MAAL,GAAcA,MAAd;AACD;;AAPQ;AAAA;AAAA,gCASC;AACRE,gBAAQC,GAAR,CAAY,OAAZ;AACA,aAAKC,WAAL;;AAEA;AACA;AACA;AACA;AACA;AACD;AAlBQ;AAAA;AAAA,oCAqBI;AAAA;;AACXF,gBAAQC,GAAR,CAAY,YAAZ;AACA,aAAKJ,KAAL,CAAWM,GAAX,CAAe,eAAf,EAAgCC,IAAhC,CAAqC,UAACC,QAAD,EAAc;AACjD,gBAAKC,WAAL,GAAmBD,SAASE,IAA5B;AACAP,kBAAQC,GAAR,CAAY,MAAKK,WAAjB;AACA,gBAAKR,MAAL,CAAYU,WAAZ,CAAwB,SAAxB,EAAmC,MAAKF,WAAxC;AACD,SAJD;AAKD;AA5BQ;AAAA;AAAA,mCA8BI;AACX,YAAI,KAAKG,OAAL,CAAaC,IAAb,IAAqB,KAAKD,OAAL,CAAaE,QAAlC,IAA8C,KAAKF,OAAL,CAAaG,IAA/D,EAAqE;AACnE,eAAKf,KAAL,CAAWgB,IAAX,CAAgB,eAAhB,EAAiC;AAC/BC,kBAAM,KAAKL,OAAL,CAAaC,IADY;AAE/BK,sBAAU,KAAKN,OAAL,CAAaE,QAFQ;AAG/BK,kBAAM,KAAKP,OAAL,CAAaG;AAHY,WAAjC,EAKCR,IALD,CAKM,UAACC,QAAD,EAAc;AAClBY,kBAAM,4BAAN;AACD,WAPD;AAQA,eAAKR,OAAL,GAAe,EAAf;AACD,SAVD,MAUK;AACHQ,gBAAM,eAAN;AACD;AACF;AA5CQ;AAAA;AAAA,oCA8CKC,EA9CL,EA8CQ;AACf,YAAGC,QAAQ,kDAAR,CAAH,EAA+D;AAC7D,eAAKtB,KAAL,CAAWuB,MAAX,CAAkB,mBAAiBF,EAAnC,EAAuCd,IAAvC,CAA4C,UAACC,QAAD,EAAc;AACxDY,kBAAM,+BAAN;AACD,WAFD;AAGD,SAJD,MAIK;AACHA,gBAAM,gBAAN;AACD;AACF;AAtDQ;;AAAA;AAAA;;AAyDXI,UAAQC,MAAR,CAAe,cAAf,EACGC,SADH,CACa,YADb,EAC2B;AACvBC,iBAAa,gCADU;AAEvBC,gBAAY7B,mBAFW;AAGvB8B,kBAAc;AAHS,GAD3B;AAOC,CAhED","file":"addtheater.controller.js","sourcesContent":["'use strict';\n\n(function(){\n\nclass AddtheaterComponent {\n  constructor($http, socket) {\n    this.message = 'Hello';\n    this.$http = $http;\n    this.socket = socket; \n  }\n\n  $onInit() {\n    console.log(\"hello\");\n    this.showTheater();\n    \n    // this.$http.get('/api/things')\n    //   .then(response => {\n    //     this.awesomeThings = response.data;\n    //     this.socket.syncUpdates('thing', this.awesomeThings);\n    //   });\n  }\n\n\n  showTheater(){\n    console.log('api called');\n    this.$http.get('/api/theaters').then((response) => {\n      this.TheaterList = response.data;\n      console.log(this.TheaterList);\n      this.socket.syncUpdates('theater', this.TheaterList);\n    });\n  }\n\n  addTheater() {\n    if (this.theater.name && this.theater.location && this.theater.city) {\n      this.$http.post('/api/theaters', {\n        Name: this.theater.name,\n        Location: this.theater.location,\n        City: this.theater.city\n      })\n      .then((response) => {\n        alert('Theater added successfully');\n      });\n      this.theater = '';\n    }else{\n      alert('Fields empty.');\n    }\n  }\n\n  deleteTheater(id){\n    if(confirm(\"Click OK to confirm deletion or Cancel to abort.\")){\n      this.$http.delete('/api/theaters/'+id).then((response) => {\n        alert('Theater Deleted Successfully!');\n      });\n    }else{\n      alert('Action aborted');\n    }\n  }\n}\n\nangular.module('yeomanAppApp')\n  .component('addtheater', {\n    templateUrl: 'app/addtheater/addtheater.html',\n    controller: AddtheaterComponent,\n    controllerAs: 'addtheaterCtrl'\n  });\n\n})();\n"]}