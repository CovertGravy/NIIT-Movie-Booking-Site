{"version":3,"sources":["app/moviemap/moviemap.controller.js"],"names":["MoviemapComponent","$http","socket","$scope","message","cinemas","movie","theater","city","states","locations","scl","sname","dates","hour","min","timings","data","poster","backdrop","tagline","ratings","get","then","response","console","log","cities","i","length","indexOf","City","push","State","Location","j","prop","syncUpdates","date","Date","day","moment","add","format","h","l","hh","mm","m","ampm","tt","duplicate","alert","time","splice","id","confirm","delete","index","findIndex","item","Title","movieS","Poster","datemap","$","each","val","items","title","cityS","theaterS","times","valid","check","Object","values","check1","keys","Array","isArray","undefined","cinema","dateCheck","timeCheck","sameD","sameT","theaters","name","d1","t1","k","samet","samed","booked","post","checked","angular","module","component","templateUrl","controller","controllerAs"],"mappings":"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","file":"moviemap.controller.js","sourcesContent":["'use strict';\n\n\n\n(function () {\n\n  class MoviemapComponent {\n    constructor($http, socket, $scope) {\n      this.message = 'Hello';\n      this.$scope = $scope;\n      this.socket = socket;\n      this.cinemas = [];\n      this.movie = [];\n      this.theater = [];\n      this.city = [];\n      this.states = [];\n      this.locations = [];\n      this.scl;\n      this.sname;\n      this.$http = $http;\n      this.dates = [];\n      this.hour = [];\n      this.min = [];\n      this.timings = [];\n      this.data = {};\n      this.poster;\n      this.backdrop;\n      this.tagline;\n      this.ratings;\n      \n    }\n\n    $onInit() {\n\n      // $(\"img\").error(function(){\n      //     $(this).hide();\n      // });\n      //--------------------------------------------------------------------------------------------------\n\n      // $('#add_time').click(function(){\n      //   var hh = $('#hour').val();\n      //   var mm = $('#min').val();\n      //   var ampm = $('#ampm').val();\n      //   var tt = hh+':'+mm+' '+ampm;\n      //   console.log(tt);\n      //   var i;\n      //   for(i=0; i<ttAr.length; i++){\n      //     var duplicate = false;\n      //     if(tt == ttAr[i]){\n      //       duplicate = true;\n      //       console.log('duplicate found');\n      //     }\n      //   }\n      //   if(duplicate == true){\n      //     alert(tt+' already added');\n      //   }else{\n      //   // this.timings=tt;\n      //     ttAr.push(tt);\n      //    // show(ttAr);\n      //   //  $scope.aa;\n      //     //$scope.aa=tt;\n      //   }\n      //   console.log(this.timings);\n\n      // });\n\n\n\n      //$digest or $apply\n      //this.timings=ttAr;\n\n\n\n\n\n\n\n\n\n      //-----------------------------------------------------------------------------------------------------------\n      this.$http.get('/api/Movies').then((response) => {\n        this.movie = response.data;\n        console.log(this.movie);\n      });\n\n      this.$http.get('/api/theaters').then((response) => {\n        this.theater = response.data;\n        let cities = [];\n        let states = [];\n        let locations = [];\n        let scl = {};\n        scl['states'] = {};\n        scl['cities'] = {};\n        let sname = [];\n        for (let i = 0; i < this.theater.length; i++) {\n          if (cities.indexOf(this.theater[i].City) === -1) {\n            cities.push(this.theater[i].City);\n            \n          }\n\n          if (states.indexOf(this.theater[i].State) === -1) {\n            states.push(this.theater[i].State);\n          }\n\n          if (locations.indexOf(this.theater[i].Location) === -1) {\n            locations.push(this.theater[i].Location);\n          }\n        }\n        \n        for(let i=0; i<states.length; i++){\n          scl.states[states[i]] = [];\n          for (let j = 0; j < this.theater.length; j++) {\n            if(this.theater[j].State === states[i]){\n              if(scl.states[states[i]].indexOf(this.theater[j].City) === -1){\n                scl.states[states[i]].push(this.theater[j].City);\n              }\n            }\n          }          \n        }\n\n        for(let i=0; i<cities.length; i++){\n          scl.cities[cities[i]] = [];\n          for (let j = 0; j < this.theater.length; j++) {\n            if(this.theater[j].City === cities[i]){\n              if(scl.cities[cities[i]].indexOf(this.theater[j].Location) === -1){\n                scl.cities[cities[i]].push(this.theater[j].Location);\n              }\n            }\n          }\n        }\n\n        for(let prop in scl.states){\n          sname.push(prop);\n        }\n        console.log(this.theater);\n        console.log(cities);\n        console.log(states);\n        console.log(locations);\n        console.log(scl);\n        console.log(sname);\n        this.city = cities;\n        this.states = states;\n        this.locations = locations;\n        this.scl = scl;\n        this.sname = sname;\n      });\n\n      this.$http.get('/api/cinemas').then((response) => {\n        this.cinemas = response.data;\n        console.log(this.cinemas);\n        this.socket.syncUpdates('cinema', this.cinemas);\n      });\n\n      var date = new Date();\n      var day = moment(date);\n      console.log(day);\n\n      \n      for (let i = 0; i < 6; i++) {\n        this.dates[i] = day.add(1, 'd').format('MMM DD');\n      }\n\n      console.log(this.dates);\n\n    \n      var h = 1;\n      for (let j = 0; j < 12; j++) {\n        this.hour[j] = h;\n        if (this.hour[j] < 10) {\n          this.hour[j] = '0' + h;\n        }\n        h++;\n      }\n\n      \n      for (let l = 0; l < 12; l++) {\n        this.min[l] = l * 5;\n        if (this.min[l] < 10) {\n          this.min[l] = '0' + l * 5;\n        }\n      }\n\n    }\n\n\n    savetime() {\n\n      var hh = this.data.h;\n      var mm = this.data.m;\n      var ampm = this.data.ampm;\n      var tt = hh + ':' + mm + ' ' + ampm;\n      console.log(tt);\n\n      var i;\n      for (i = 0; i < this.timings.length; i++) {\n        var duplicate = false;\n        if (tt == this.timings[i]) {\n          duplicate = true;\n          console.log('duplicate found');\n        }\n      }\n\n      if (duplicate == true) {\n        alert(tt + ' already added');\n      } else {\n        this.timings.push(tt);\n      }\n\n      console.log(this.data);\n      console.log(this.timings);\n    }\n\n    deletetime(time) {\n      var i = this.timings.indexOf(time);\n      console.log(time);\n      this.timings.splice(i, 1);\n      console.log(this.timings);\n    }\n\n    deleteCinema(id) {\n      if (confirm(\"Click OK to confirm deletion or Cancel to abort.\")) {\n        this.$http.delete('/api/cinemas/' + id).then((response) => {\n          alert('Cinema Deleted Successfully!');\n        });\n      } else {\n        alert('Action aborted');\n      }\n    }\n\n    getPoster() {\n\n      var index = this.movie.findIndex(item => item.Title === this.data.movieS);\n      console.log(index);\n      if (index !== -1) {\n        this.poster = this.movie[index].Poster;\n        this.backdrop = this.movie[index].backdrop;\n        this.tagline = this.movie[index].tagline;\n        this.ratings = this.movie[index].ratings;\n        console.log(this.poster);\n      }\n\n    }\n\n    submit() {\n      var datemap = [];\n      $('.days:checked').each(function () {\n        datemap.push($(this).val());\n      });\n      if (datemap.length == 0) {\n        alert('No date selected');\n      }\n      console.log(datemap);\n\n\n      var items = {\n        title: this.data.movieS,\n        backdrop: this.backdrop,\n        city: this.data.cityS,\n        theater: this.data.theaterS,\n        dates: datemap,\n        times: this.timings,\n        tagline: this.tagline,\n        ratings: this.ratings\n      };\n      var valid = true;\n      var check = Object.values(items);\n      var check1 = Object.keys(items);\n\n      for (var i = 0; i < check.length; i++) {\n\n        if (Array.isArray(check[i])) {\n          if (check[i].length == 0) {\n            valid = false;\n          }\n        } else {\n          if (check[i] == undefined) {\n            valid = false;\n          }\n        }\n      }\n      console.log(valid);\n\n\n      var cinema = this.cinemas;\n      var dateCheck = true;\n      var timeCheck = true;\n\n      var sameD = [];\n      var sameT = [];\n      for (var i = 0; i < cinema.length; i++) {\n\n        console.log(cinema[i].movie);\n        if (cinema[i].movie.theaters.city == items.city && cinema[i].movie.theaters.name == items.theater) {\n          var d1 = cinema[i].movie.theaters.dates;\n          var t1 = cinema[i].movie.theaters.time;\n          for (var j = 0; j < d1.length; j++) {\n            if (items.dates.indexOf(d1[j]) !== -1) {\n              console.log('same dates ' + d1[j]);\n              dateCheck = false;\n              sameD.push(d1[j]);\n            }\n          }\n\n          if (!dateCheck) {\n            for (var k = 0; k < t1.length; k++) {\n              if (items.times.indexOf(t1[k]) !== -1) {\n                console.log('same timings ' + t1[k]);\n                timeCheck = false;\n                sameT.push(t1[k]);\n              }\n            }\n          }\n\n          if (!dateCheck && timeCheck) {\n            dateCheck = true;\n          }\n        }\n\n      }\n\n      var samet = [];\n      for (var i = 0; i < sameT.length; i++) {\n        if (samet.indexOf(sameT[i]) == -1) {\n          samet.push(sameT[i]);\n        }\n      }\n\n      var samed = [];\n      for(let i = 0; i < sameD.length; i++) {\n        if(samed.indexOf(sameD[i]) == -1) {\n          samed.push(sameD[i]);\n        }\n      }\n\n      var booked = function () {\n        if (dateCheck && timeCheck) {\n          return true;\n        } else if (timeCheck) {\n          return true;\n        } else if (dateCheck) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n\n      if (valid && booked()) {\n        this.$http.post('/api/cinemas', {\n          movie: {\n            title: items.title,\n            poster: this.poster,\n            backdrop: items.backdrop,\n            tagline: items.tagline,\n            ratings: items.ratings,\n            // imdb: this.movie[index].imdb_id,\n            theaters: {\n              name: items.theater,\n              city: items.city,\n              dates: items.dates,\n              time: items.times\n            }\n\n          }\n        }).then((response) => {\n          alert('Success!');\n          this.data.movieS = '';\n          this.data.theaterS = '';\n          this.data.cityS = '';\n          this.poster = '';\n          $('.days:checked').each(function () {\n            this.checked = false;\n          });\n          datemap = [];\n          this.timings = [];\n        });\n      } else if (!dateCheck && !timeCheck) {\n        alert('Theater is booked for [' + samed + '] on time[' + samet + ']');\n      } else {\n        alert('Details Missing');\n      }\n    }\n\n    // datepicker(){\n    //   var clicked\n\n    //   console.log(this.clicked);\n\n    //   if(!this.clicked){\n    //     console.log('if started');\n    //     this.clicked = true;\n    //   }else{\n    //     console.log('else');\n    //     this.clicked = false;\n    //   }\n\n    // }\n\n    // $.noConflict();\n    // jQuery(document).ready(function($){\n    //     $(\"button\").click(function(){\n    //         $(\"p\").text(\"jQuery is still working!\");\n    //     });\n    // });\n\n  }\n\n  angular.module('yeomanAppApp')\n    .component('moviemap', {\n      templateUrl: 'app/moviemap/moviemap.html',\n      controller: MoviemapComponent,\n      controllerAs: 'moviemapCtrl'\n    });\n\n})();\n"]}