{"version":3,"sources":["app/moviemap/moviemap.controller.js"],"names":["MoviemapComponent","$http","socket","$scope","message","movie","theater","city","dates","hour","min","timings","data","$","document","ready","click","datemap","each","push","val","length","alert","console","log","get","then","response","cities","i","indexOf","City","date","Date","day","moment","add","format","j","h","l","hh","mm","m","ampm","tt","duplicate","time","splice","items","title","movieS","cityS","theaterS","times","valid","check","Object","values","check1","keys","Array","isArray","undefined","angular","module","component","templateUrl","controller","controllerAs"],"mappings":"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","file":"moviemap.controller.js","sourcesContent":["'use strict';\n\n\n\n(function(){\n\nclass MoviemapComponent {\n  constructor($http, socket, $scope) {\n    this.message = 'Hello';\n    this.$scope = $scope;\n    this.socket = socket;\n    this.movie = [];\n    this.theater = [];\n    this.city = [];\n    this.$http = $http;\n    this.dates = [];\n    this.hour = [];\n    this.min = [];\n    this.timings = [];\n    this.data = {};\n  }\n\n  $onInit(){\n//--------------------------------------------------------------------------------------------------\n\n\n  $(document).ready(function(){\n    $('#add_date').click(function(){\n      var datemap = [];\n      $('.days:checked').each(function(){\n        datemap.push($(this).val());\n      });\n      if(datemap.length == 0){\n        alert('No date selected');\n      }\n      console.log(datemap);\n    });\n\n  // $('#add_time').click(function(){\n  //   var hh = $('#hour').val();\n  //   var mm = $('#min').val();\n  //   var ampm = $('#ampm').val();\n  //   var tt = hh+':'+mm+' '+ampm;\n  //   console.log(tt);\n  //   var i;\n  //   for(i=0; i<ttAr.length; i++){\n  //     var duplicate = false;\n  //     if(tt == ttAr[i]){\n  //       duplicate = true;\n  //       console.log('duplicate found');\n  //     }\n  //   }\n  //   if(duplicate == true){\n  //     alert(tt+' already added');\n  //   }else{\n  //   // this.timings=tt;\n  //     ttAr.push(tt);\n  //    // show(ttAr);\n  //   //  $scope.aa;\n  //     //$scope.aa=tt;\n  //   }\n  //   console.log(this.timings);\n    \n  // });\n});\n\n\n    //$digest or $apply\n      //this.timings=ttAr;\n\n\n\n\n\n\n\n\n\n//-----------------------------------------------------------------------------------------------------------\n  this.$http.get('/api/Movies').then((response) => {\n    this.movie = response.data;\n    console.log(this.movie);\n  });\n\n  this.$http.get('/api/theaters').then((response) => {\n    this.theater = response.data;\n    var cities = [];\n    for(var i = 0; i<this.theater.length; i++){\n      if(cities.indexOf(this.theater[i].City) == -1){\n        cities.push(this.theater[i].City);\n      }\n    }\n    console.log(this.theater);\n    console.log(cities);\n    this.city = cities;\n  });\n  \n  var date = new Date();\n  var day = moment(date);\n  console.log(day);\n  \n  var i;\n  for(i=0; i<6; i++){\n    this.dates[i] = day.add(1, 'd').format('MMM DD');\n  }\n\n  console.log(this.dates);\n  \n  var j;\n  var h = 1;\n  for(j=0; j<12; j++){\n    this.hour[j] = h;\n    if(this.hour[j] < 10){\n      this.hour[j] = '0' + h;\n    }\n    h++;\n  }\n\n  var l;\n  for(l=0; l<12; l++){\n    this.min[l] = l*5;\n      if(this.min[l] < 10){\n        this.min[l] = '0' + l*5;\n      }\n  }\n  \n}\n\n\nsavetime(){\n\n    var hh = this.data.h;\n    var mm = this.data.m;\n    var ampm = this.data.ampm;\n    var tt = hh+':'+mm+' '+ampm;\n    console.log(tt);\n\n    var i;\n    for(i=0; i<this.timings.length; i++){\n      var duplicate = false;\n      if(tt == this.timings[i]){\n        duplicate = true;\n        console.log('duplicate found');\n      }\n    }\n\n    if(duplicate == true){\n      alert(tt+' already added');\n    }else{\n      this.timings.push(tt);\n    }\n\n    console.log(this.data);\n    console.log(this.timings);\n}\n\ndeletetime(time){\n  var i = this.timings.indexOf(time);\n  console.log(time);\n  this.timings.splice(i,1);\n  console.log(this.timings);\n}\n\nsubmit(){\n  var datemap = [];\n      $('.days:checked').each(function(){\n        datemap.push($(this).val());\n      });\n      if(datemap.length == 0){\n        alert('No date selected');\n      }\n      console.log(datemap);\n\n  var items = {\n    title: this.data.movieS,\n    city: this.data.cityS,\n    theater: this.data.theaterS,\n    dates: datemap,\n    times: this.timings\n  };\n  var valid = true;\n  var check = Object.values(items);\n  var check1 = Object.keys(items);\n\n  for(var i=0; i<check.length; i++){\n  \n    if(Array.isArray(check[i])){\n      if(check[i].length == 0){\n        valid = false;\n      }\n    }else{\n      if(check[i] == undefined){\n        valid = false;\n      }\n    }\n  }\n  console.log(valid);\n}\n\n// datepicker(){\n//   var clicked\n  \n//   console.log(this.clicked);\n\n//   if(!this.clicked){\n//     console.log('if started');\n//     this.clicked = true;\n//   }else{\n//     console.log('else');\n//     this.clicked = false;\n//   }\n  \n// }\n\n  // $.noConflict();\n  // jQuery(document).ready(function($){\n  //     $(\"button\").click(function(){\n  //         $(\"p\").text(\"jQuery is still working!\");\n  //     });\n  // });\n  \n}\n\nangular.module('yeomanAppApp')\n  .component('moviemap', {\n    templateUrl: 'app/moviemap/moviemap.html',\n    controller: MoviemapComponent,\n    controllerAs: 'moviemapCtrl'\n  });\n\n})();\n"]}