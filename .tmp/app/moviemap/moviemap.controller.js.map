{"version":3,"sources":["app/moviemap/moviemap.controller.js"],"names":["MoviemapComponent","$http","socket","$scope","message","cinemas","movie","theater","city","dates","hour","min","timings","data","poster","backdrop","get","then","response","console","log","cities","i","length","indexOf","City","push","syncUpdates","date","Date","day","moment","add","format","j","h","l","hh","mm","m","ampm","tt","duplicate","alert","time","splice","id","confirm","delete","index","findIndex","item","Title","movieS","Poster","datemap","$","each","val","items","title","cityS","theaterS","times","valid","check","Object","values","check1","keys","Array","isArray","undefined","cinema","dateCheck","timeCheck","sameD","sameT","theaters","name","d1","t1","k","samet","booked","post","checked","angular","module","component","templateUrl","controller","controllerAs"],"mappings":"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","file":"moviemap.controller.js","sourcesContent":["'use strict';\n\n\n\n(function () {\n\n  class MoviemapComponent {\n    constructor($http, socket, $scope) {\n      this.message = 'Hello';\n      this.$scope = $scope;\n      this.socket = socket;\n      this.cinemas = [];\n      this.movie = [];\n      this.theater = [];\n      this.city = [];\n      this.$http = $http;\n      this.dates = [];\n      this.hour = [];\n      this.min = [];\n      this.timings = [];\n      this.data = {};\n      this.poster;\n      this.backdrop;\n    }\n\n    $onInit() {\n\n      // $(\"img\").error(function(){\n      //     $(this).hide();\n      // });\n      //--------------------------------------------------------------------------------------------------\n\n      // $('#add_time').click(function(){\n      //   var hh = $('#hour').val();\n      //   var mm = $('#min').val();\n      //   var ampm = $('#ampm').val();\n      //   var tt = hh+':'+mm+' '+ampm;\n      //   console.log(tt);\n      //   var i;\n      //   for(i=0; i<ttAr.length; i++){\n      //     var duplicate = false;\n      //     if(tt == ttAr[i]){\n      //       duplicate = true;\n      //       console.log('duplicate found');\n      //     }\n      //   }\n      //   if(duplicate == true){\n      //     alert(tt+' already added');\n      //   }else{\n      //   // this.timings=tt;\n      //     ttAr.push(tt);\n      //    // show(ttAr);\n      //   //  $scope.aa;\n      //     //$scope.aa=tt;\n      //   }\n      //   console.log(this.timings);\n\n      // });\n\n\n\n      //$digest or $apply\n      //this.timings=ttAr;\n\n\n\n\n\n\n\n\n\n      //-----------------------------------------------------------------------------------------------------------\n      this.$http.get('/api/Movies').then((response) => {\n        this.movie = response.data;\n        console.log(this.movie);\n      });\n\n      this.$http.get('/api/theaters').then((response) => {\n        this.theater = response.data;\n        var cities = [];\n        for (var i = 0; i < this.theater.length; i++) {\n          if (cities.indexOf(this.theater[i].City) == -1) {\n            cities.push(this.theater[i].City);\n          }\n        }\n        console.log(this.theater);\n        console.log(cities);\n        this.city = cities;\n      });\n\n      this.$http.get('/api/cinemas').then((response) => {\n        this.cinemas = response.data;\n        console.log(this.cinemas);\n        this.socket.syncUpdates('cinema', this.cinemas);\n      });\n\n      var date = new Date();\n      var day = moment(date);\n      console.log(day);\n\n      var i;\n      for (i = 0; i < 6; i++) {\n        this.dates[i] = day.add(1, 'd').format('MMM DD');\n      }\n\n      console.log(this.dates);\n\n      var j;\n      var h = 1;\n      for (j = 0; j < 12; j++) {\n        this.hour[j] = h;\n        if (this.hour[j] < 10) {\n          this.hour[j] = '0' + h;\n        }\n        h++;\n      }\n\n      var l;\n      for (l = 0; l < 12; l++) {\n        this.min[l] = l * 5;\n        if (this.min[l] < 10) {\n          this.min[l] = '0' + l * 5;\n        }\n      }\n\n    }\n\n\n    savetime() {\n\n      var hh = this.data.h;\n      var mm = this.data.m;\n      var ampm = this.data.ampm;\n      var tt = hh + ':' + mm + ' ' + ampm;\n      console.log(tt);\n\n      var i;\n      for (i = 0; i < this.timings.length; i++) {\n        var duplicate = false;\n        if (tt == this.timings[i]) {\n          duplicate = true;\n          console.log('duplicate found');\n        }\n      }\n\n      if (duplicate == true) {\n        alert(tt + ' already added');\n      } else {\n        this.timings.push(tt);\n      }\n\n      console.log(this.data);\n      console.log(this.timings);\n    }\n\n    deletetime(time) {\n      var i = this.timings.indexOf(time);\n      console.log(time);\n      this.timings.splice(i, 1);\n      console.log(this.timings);\n    }\n\n    deleteCinema(id) {\n      if (confirm(\"Click OK to confirm deletion or Cancel to abort.\")) {\n        this.$http.delete('/api/cinemas/' + id).then((response) => {\n          alert('Cinema Deleted Successfully!');\n        });\n      } else {\n        alert('Action aborted');\n      }\n    }\n\n    getPoster() {\n\n      var index = this.movie.findIndex(item => item.Title === this.data.movieS);\n      console.log(index);\n      if (index !== -1) {\n        this.poster = this.movie[index].Poster;\n        this.backdrop = this.movie[index].backdrop;\n        console.log(this.poster);\n      }\n\n    }\n\n    submit() {\n      var datemap = [];\n      $('.days:checked').each(function () {\n        datemap.push($(this).val());\n      });\n      if (datemap.length == 0) {\n        alert('No date selected');\n      }\n      console.log(datemap);\n\n\n      var items = {\n        title: this.data.movieS,\n        backdrop: this.backdrop,\n        city: this.data.cityS,\n        theater: this.data.theaterS,\n        dates: datemap,\n        times: this.timings\n      };\n      var valid = true;\n      var check = Object.values(items);\n      var check1 = Object.keys(items);\n\n      for (var i = 0; i < check.length; i++) {\n\n        if (Array.isArray(check[i])) {\n          if (check[i].length == 0) {\n            valid = false;\n          }\n        } else {\n          if (check[i] == undefined) {\n            valid = false;\n          }\n        }\n      }\n      console.log(valid);\n\n\n      var cinema = this.cinemas;\n      var dateCheck = true;\n      var timeCheck = true;\n\n      var sameD = [];\n      var sameT = [];\n      for (var i = 0; i < cinema.length; i++) {\n\n        console.log(cinema[i].movie);\n        if (cinema[i].movie.theaters.city == items.city && cinema[i].movie.theaters.name == items.theater) {\n          var d1 = cinema[i].movie.theaters.dates;\n          var t1 = cinema[i].movie.theaters.time;\n          for (var j = 0; j < d1.length; j++) {\n            if (items.dates.indexOf(d1[j]) !== -1) {\n              console.log('same dates ' + d1[j]);\n              dateCheck = false;\n              sameD.push(d1[j]);\n            }\n          }\n\n          if (!dateCheck) {\n            for (var k = 0; k < t1.length; k++) {\n              if (items.times.indexOf(t1[k]) !== -1) {\n                console.log('same timings ' + t1[k]);\n                timeCheck = false;\n                sameT.push(t1[k]);\n              }\n            }\n          }\n\n          if (!dateCheck && timeCheck) {\n            dateCheck = true;\n          }\n        }\n\n      }\n\n      var samet = [];\n      for (var i = 0; i < sameT.length; i++) {\n        if (samet.indexOf(sameT[i]) == -1) {\n          samet.push(sameT[i]);\n        }\n      }\n\n      var booked = function () {\n        if (dateCheck && timeCheck) {\n          return true;\n        } else if (timeCheck) {\n          return true;\n        } else if (dateCheck) {\n          return true;\n        } else {\n          return false;\n        }\n      }\n\n      if (valid && booked()) {\n        this.$http.post('/api/cinemas', {\n          movie: {\n            title: items.title,\n            poster: this.poster,\n            backdrop: items.backdrop,\n            // imdb: this.movie[index].imdb_id,\n            theaters: {\n              name: items.theater,\n              city: items.city,\n              dates: items.dates,\n              time: items.times\n            }\n\n          }\n        }).then((response) => {\n          alert('Success!');\n          this.data.movieS = '';\n          this.data.theaterS = '';\n          this.data.cityS = '';\n          this.poster = '';\n          $('.days:checked').each(function () {\n            this.checked = false;\n          });\n          datemap = [];\n          this.timings = [];\n        });\n      } else if (!dateCheck && !timeCheck) {\n        alert('Theater is booked for [' + sameD + '] on time[' + samet + ']');\n      } else {\n        alert('Details Missing');\n      }\n    }\n\n    // datepicker(){\n    //   var clicked\n\n    //   console.log(this.clicked);\n\n    //   if(!this.clicked){\n    //     console.log('if started');\n    //     this.clicked = true;\n    //   }else{\n    //     console.log('else');\n    //     this.clicked = false;\n    //   }\n\n    // }\n\n    // $.noConflict();\n    // jQuery(document).ready(function($){\n    //     $(\"button\").click(function(){\n    //         $(\"p\").text(\"jQuery is still working!\");\n    //     });\n    // });\n\n  }\n\n  angular.module('yeomanAppApp')\n    .component('moviemap', {\n      templateUrl: 'app/moviemap/moviemap.html',\n      controller: MoviemapComponent,\n      controllerAs: 'moviemapCtrl'\n    });\n\n})();\n"]}