{"version":3,"sources":["app/bookingpage/bookingpage.controller.js"],"names":["BookingpageComponent","$http","select","userdata","cinemas","get","then","response","data","console","log","sessionStorage","movie","a","JSON","parse","index","findIndex","item","title","angular","module","component","templateUrl","controller","controllerAs"],"mappings":"AAAA;;;;;;AAEA,CAAC,YAAY;AAAA,MAELA,oBAFK;AAGT,kCAAYC,KAAZ,EAAmB;AAAA;;AACjB,WAAKA,KAAL,GAAaA,KAAb;AACA,WAAKC,MAAL;AACA,WAAKC,QAAL,GAAgB,EAAhB;AACA,WAAKC,OAAL,GAAe,EAAf;AACD;;AARQ;AAAA;AAAA,gCAWC;AAAA;;AAER;AACA,aAAKH,KAAL,CAAWI,GAAX,CAAe,cAAf,EAA+BC,IAA/B,CAAoC,UAACC,QAAD,EAAc;AAChD,gBAAKH,OAAL,GAAeG,SAASC,IAAxB;AACAC,kBAAQC,GAAR,CAAY,MAAKN,OAAjB;AACD,SAHD;;AAKA,YAAIO,eAAeC,KAAnB,EAA0B;AACxB,cAAIC,IAAIC,KAAKC,KAAL,CAAWJ,eAAeC,KAA1B,CAAR;AACA,eAAKV,MAAL,GAAcW,CAAd;AACAJ,kBAAQC,GAAR,CAAY,KAAKR,MAAjB;AACD;AACF;AAxBQ;AAAA;AAAA,4BA0BH;AAAA;;AACJO,gBAAQC,GAAR,CAAY,KAAKP,QAAjB;;AAEA,YAAIa,QAAQ,KAAKZ,OAAL,CAAaa,SAAb,CAAuB;AAAA,iBAAQC,KAAKN,KAAL,CAAWO,KAAX,KAAqB,OAAKhB,QAAL,CAAcS,KAA3C;AAAA,SAAvB,CAAZ;;AAEA,YAAGI,UAAU,CAAC,CAAd,EAAgB;AACd,eAAKd,MAAL,GAAc,KAAKE,OAAL,CAAaY,KAAb,CAAd;AACD;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEAP,gBAAQC,GAAR,CAAYM,KAAZ;AAED;AAhDQ;;AAAA;AAAA;;AAkDXI,UAAQC,MAAR,CAAe,cAAf,EACGC,SADH,CACa,aADb,EAC4B;AACxBC,iBAAa,kCADW;AAExBC,gBAAYxB,oBAFY;AAGxByB,kBAAc;AAHU,GAD5B;AAOD,CAzDD","file":"bookingpage.controller.js","sourcesContent":["'use strict';\n\n(function () {\n\n  class BookingpageComponent {\n    constructor($http) {\n      this.$http = $http;\n      this.select;\n      this.userdata = {};\n      this.cinemas = [];\n    }\n\n\n    $onInit() {\n\n      // api call for list of movies in cinemas\n      this.$http.get('/api/cinemas').then((response) => {\n        this.cinemas = response.data;\n        console.log(this.cinemas);\n      });\n\n      if (sessionStorage.movie) {\n        let a = JSON.parse(sessionStorage.movie);\n        this.select = a;\n        console.log(this.select);\n      }\n    }\n\n    log() {\n      console.log(this.userdata);\n\n      let index = this.cinemas.findIndex(item => item.movie.title === this.userdata.movie);\n\n      if(index !== -1){\n        this.select = this.cinemas[index];\n      }\n      \n      // let index;\n      // for(let i=0; i<this.cinemas.length; i++){\n      //   if(this.cinemas[i].movie.title === this.userdata.movie){\n      //     index = this.cinemas[i];\n      //     break;\n      //   }\n      // }\n      \n\n      // this.select = index;\n\n      console.log(index);\n      \n    }\n  }\n  angular.module('yeomanAppApp')\n    .component('bookingpage', {\n      templateUrl: 'app/bookingpage/bookingpage.html',\n      controller: BookingpageComponent,\n      controllerAs: 'bookingpageCtrl'\n    });\n\n})();\n"]}